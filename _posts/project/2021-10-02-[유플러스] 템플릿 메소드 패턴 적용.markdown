---
layout: post
title: "[ìœ í”ŒëŸ¬ìŠ¤] í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ì ìš©"
subtitle: "template method pattern"
categories: project
tags: uplus
---
> í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´(Template Method Pattern) ì ìš©  

## ë¬¸ì œ ìƒí™©
### 1. ìƒí’ˆì˜ ì†ì„±ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì¦ ë¡œì§ì´ í•„ìš”
### 2. ìƒí’ˆì˜ ì¢…ë¥˜ëŠ” 2ê°€ì§€ë¡œ ìš”ê¸ˆì œ/ë¶€ê°€ì„œë¹„ìŠ¤ë¡œ ë‚˜ë‰œë‹¤.
### 3. ê²€ì¦ ë¡œì§ì€ ìš”ê¸ˆì œì™€ ë¶€ê°€ì„œë¹„ìŠ¤ ê°ê°ì— ëŒ€í•´ì„œ í–‰í•´ì§ˆ ìˆ˜ë„ ìˆìœ¼ë©°, ì¼ë°˜ì ìœ¼ë¡œëŠ” ìš”ê¸ˆì œ ì´í›„ ë¶€ê°€ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê²€ì¦ì´ ì´ë£¨ì–´ì§„ë‹¤.
### 4. íŠ¹ì • ìƒí’ˆë³„ë¡œ ê²€ì¦ ë¡œì§ì´ ë‹¤ë¥´ê²Œ ì ìš©ë˜ì–´ì•¼ í•œë‹¤. 
### 5. ë¶€ê°€ì„œë¹„ìŠ¤ ê²€ì¦ ë¡œì§ì€ ì—†ì„ ìˆ˜ë„ ìˆë‹¤.

## í•´ê²° ë°©ì•ˆ
### 1. í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ì ìš©
ğŸ’¡ `í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´` : ë©”ì†Œë“œì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì„ ì •ì˜. ì•Œê³ ë¦¬ì¦˜ì˜ ì—¬ëŸ¬ ë‹¨ê³„ ì¤‘ ì¼ë¶€ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í…œí”Œë¦¿ ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë©´ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ íŠ¹ì • ë‹¨ê³„ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆë‹¤. (Head First Design Pattern)  
í•„ìˆ˜ì ì´ì§€ ì•Šì€ ë¶€ë¶„ì€ ì¶”ìƒ ë©”ì†Œë“œê°€ ì•„ë‹Œ **í›„í¬**ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.  
â—ï¸ `í›„í¬` : ì¶”ìƒí´ë˜ìŠ¤ì—ì„œ ì„ ì–¸ë˜ëŠ” ë©”ì†Œë“œì§€ë§Œ ê¸°ë³¸ì ì¸ ë‚´ìš©ë§Œ êµ¬í˜„ë˜ì–´ ìˆê±°ë‚˜ ì•„ë¬´ ì½”ë“œë„ ë“¤ì–´ìˆì§€ ì•Šì€ ë©”ì†Œë“œ. ì´ë ‡ê²Œ í•˜ë©´ ì„œë¸Œí´ë˜ìŠ¤ ì…ì¥ì—ì„œëŠ” ë‹¤ì–‘í•œ ìœ„ì¹˜ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì— ë¼ì–´ë“¤ ìˆ˜ ìˆë‹¤. í˜¹ì€ ê·¸ëƒ¥ ë¬´ì‹œí•˜ê³  ë„˜ì–´ê°ˆ ìˆ˜ë„ ìˆë‹¤.

- ê³µí†µ ì ìš© ì‚¬í•­ìœ¼ë¡œ ìƒí’ˆì— ëŒ€í•œ ìš”ê¸ˆì œ ê²€ì¦ -> ë¶€ê°€ì„œë¹„ìŠ¤ ê²€ì¦ì˜ ìˆœì„œê°€ ìˆìŒ
- ë¶€ê°€ì„œë¹„ìŠ¤ ê²€ì¦ì€ ì—†ì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— í›„í¬ë¥¼ ì ìš©



```java
public abstract class ValidateCommonService {
	public final void validateService(Map<String, String> service) {
		validatePriceProd(service);
		validateSubProd(service);
	}

	protected abstract void validatePriceProd(Map<String, String> service);

	protected void validateSubProd(Map<String, String> service) {
	}
}
```

```java
/**
 * íŠ¹ì • ìƒí’ˆ ì†ì„± ê²€ì¦ ë¡œì§
 * ë¶€ê°€ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê²€ì¦ ë¡œì§ë„ override
 */
@Service
@Transactional
public class ValidateCertain1Service extends ValidateCommonService {

	@Override
	protected void validatePriceProd(Map<String, String> service) {
		/* ìš”ê¸ˆì œ ê²€ì¦ ë¡œì§ */
	}

	@Override
	protected void validateSubProd(Map<String, String> service) {
		/* ë¶€ê°€ì„œë¹„ìŠ¤ ì†ì„± ê²€ì¦ ë¡œì§*/
	}
}
```


```java
/**
 * íŠ¹ì • ìƒí’ˆ ì†ì„± ê²€ì¦ ë¡œì§
 * ë¶€ê°€ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê²€ì¦ ë¡œì§ì´ í•„ìš” ì—†ìŒ
 */
@Service
@Transactional
public class ValidateCertain2Service extends ValidateCommonService {

	@Override
	protected void validatePriceProd(Map<String, String> service) {
		/* ìš”ê¸ˆì œ ê²€ì¦ ë¡œì§ */
	}
}

```

### 2. LSP ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™
ìì‹ ê°ì²´ë¡œ ë¶€ëª¨ ê°ì²´ë¥¼ ì¹˜í™˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì›ì¹™.

- ìƒí’ˆë³„ë¡œ ë™ì ìœ¼ë¡œ ê²€ì¦ Service í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì— `ApplicationContext`ë¡œë¶€í„° ë“±ë¡ëœ Service ë¹ˆ(Bean) ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ë„ë¡ í•¨

```java
public class ProdService {

    private final ApplicationContext ac;

    public void validService(Map<String, String> service) {
        ValidateCommonService certain = (ValidateCommonService)ac.getBean("validate" + service.get("certain") + "Service");
        certain.validateService(service);
    }

```