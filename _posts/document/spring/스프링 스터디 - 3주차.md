---
layout: post
title: "[Spring] Spring docs 3주차"
subtitle: Bean 상속, 컨테이너 확장, 어노테이션 기반 설정
categories: document
tags:
  - spring-doc
---
> Spring 공식 문서 정리

>

> - Bean Definition Inheritance

> - Container Extension Points

> - Annotation-based Container Configuration


# 1.  Bean Definition Inheritance
자식 Bean은 부모 Bean의 속성 및 설정을 물려받음. 자식은 부모 속성에 대해 override하거나 추가를 할 수 있음. 템플릿의 한 종류로 볼 수 있음.


`parent` 속성을 통해 상속을 받을 수 있음.
하단 `parent="inheritedTestBean"` 참조.

```xml
<bean id="inheritedTestBean" abstract="true"
		class="org.springframework.beans.TestBean">
	<property name="name" value="parent"/>
	<property name="age" value="1"/>
</bean>

<bean id="inheritsWithDifferentClass"
		class="org.springframework.beans.DerivedTestBean"
		parent="inheritedTestBean" init-method="initialize">
	<property name="name" value="override"/>
	<!-- the age property value of 1 will be inherited from parent -->
</bean>
```


부모 bean 정의에 `class` 속성을 생략하고 `abstract="true"` 를 준 경우
- 부모 Bean 자체 인스턴스화 X
- 컨네이너 내부적으로 해당 Bean을 무시하고 진행됨
- abstract를 생략하는 경우 → ApplicationContext는 부모 Bean을 인스턴스화 시도하여 에러 발생

XML 기반의 class 속성 생략 & abtract=true 속성을 활용한 Bean Definition template은 어노테이션 기반으로는 구현 불가한 것으로 보임

# 2. Container Extension Points
ApplicationContext 구현 대신 특정 인터페이스를 통해 Spring IoC container의 확장을 할 수 있음.

## 1) BeanPostProcessor
> Bean 커스터마이징 하기

- Bean 초기화 로직, 의존 해결 등에 대한 콜백 메소드를 제공.
- 컨테이너가 Bean에 대해 인스턴스화, 설정, 초기화를 완료한 후 일부 커스텀 로직을 추가하고자 할 때 **BeanPostProcessor** 인터페이스를 활용.
- 



# 3. Annotation-based Container Configuration